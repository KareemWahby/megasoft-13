<style type="text/css">
  /* If you want the view to take the full width of the page if not remove it(.container)*/
  .container{
    width: 100%;
    height: 100%;
    margin: 0px;
    padding: 0px;
  }
</style>
<%= javascript_include_tag "edit_steps" %>


    <% for @page in @pages do %>
      <%= link_to @page.page_name, :action => 'save_start_page', :page_id => @page %> 
    <%end%>
  <div class = "span10">
  <div >
    <div class="bottom carousel slide" id="myCarousel">
      <div id="carousel-inner" class="carousel-inner">
        <% if @pages.size < 5 %>  <!-- the case when we have max of 4 pages -->
          <div id="first-item" class="item active" style="background-color:#AAAAAA">
            <ul class="thumbnails" style="background-color:#AAAAAA">
              <li class="span1"></li>
              <% @pages.each_with_index do |page, index| %>
                <li class="span1">
                  <div id="<%= page.id %>" class="thumbnail" style="border:none" 
                    ondblclick= show('<%=page.id%>')
                     width="50px">
                    <img src="/assets/card.png" width="50" alt="">
                  </div>
                  <p><%= page.page_name %></p>
                </li>
              <% end %>              
              <% (1..4-@pages.size).each do |i| %>
                <li class="span1"></li>  
              <% end %>
              <li class="span1"></li>
            </ul>
          </div>
        <% else %>  <!-- the case when we have more than 4 pages -->
          <div id="first-item" class="item active" style="background-color:#AAAAAA">
            <ul class="thumbnails" style="background-color:#AAAAAA">
              <li class="span1"></li>
              <% (1..4).each do |i| %>
                <li class="span1">
                  <div id="<%= @pages.fetch(i,nil).id %>" class="thumbnail" style="border:none" 
                    ondblclick= show('<%= @pages.fetch(i,nil).id %>','<%= @pages.fetch(i,nil).html %>') >
                    <img src="/assets/card.png" alt="">
                  </div>
                  <p><%= @pages.fetch(i,nil).page_name %></p>
                </li>
              <% end %>
              <li class="span1"></li>
            </ul>
          </div> 
          <% crousel_items_to_create = @pages.size/4%>
          <% if @pages.size%4==0%>
            <%crousel_items_to_create = crousel_items_to_create - 1%>
          <%end%>
          <% (1..crousel_items_to_create).each do |currentLoop| %>
            <% isFirstEmpty = true%>
              <div class="item" style="background-color=#AAAAAA;">
                <ul class="thumbnails" style="background-color:#AAAAAA">      
                  <li class="span1"></li>     
                  <% (0..3).each do |i| %> 
                    <% if @pages.fetch(i + currentLoop*4,nil) != nil%> 
                      <li class="span1">
                      <div id="<%= @pages.fetch(i + currentLoop*4,nil).id %>" class="thumbnail" style="border:none" 
                        ondblclick="show('<%= @pages.fetch(i + currentLoop*4,nil).id %>','<%= @pages.fetch(i + currentLoop*4,nil).html %>')">
                        <img src="/assets/card.png" alt="">
                      </div>
                      <p><%= @pages.fetch(i + currentLoop*4,nil).page_name %></p>
                      </li>
                    <% else %>
                      <li class="span1"></li>
                    <% end %>           
                  <% end %>       
                    <li class="span1"></li>
                </ul>
              </div>
          <% end %>
        <% end %>   
      </div>
      <!-- the carousel sliding arrows -->
      <a data-slide="prev" href="#myCarousel" class="left carousel-control" style="background:none; border:none">‹</a>
      <a data-slide="next" href="#myCarousel" class="right carousel-control" style="background:none; border:none">›</a>
    </div>
  </div>
</div>